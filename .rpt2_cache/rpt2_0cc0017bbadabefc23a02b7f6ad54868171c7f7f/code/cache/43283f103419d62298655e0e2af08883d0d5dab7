{
  "code": "import * as tslib_1 from \"tslib\";\r\nvar SoundManager = (function () {\r\n    function SoundManager() {\r\n        this._musicOpen = true;\r\n        this._soundOpen = true;\r\n    }\r\n    Object.defineProperty(SoundManager, \"instance\", {\r\n        get: function () {\r\n            if (!SoundManager.ins)\r\n                SoundManager.ins = new SoundManager();\r\n            return SoundManager.ins;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SoundManager.prototype, \"musicOpen\", {\r\n        get: function () {\r\n            return this._musicOpen;\r\n        },\r\n        set: function (value) {\r\n            this._musicOpen = value;\r\n            if (value) {\r\n                this.playBgMusic(this.curBgMusic);\r\n            }\r\n            else {\r\n                this.stopBgMusic();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SoundManager.prototype, \"soundOpen\", {\r\n        get: function () {\r\n            return this._soundOpen;\r\n        },\r\n        set: function (_soundOpen) {\r\n            this._soundOpen = _soundOpen;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SoundManager.prototype.playBgMusic = function (soundName) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n            var _url, _a;\r\n            return tslib_1.__generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        console.log(\"开始播放Bgm...\", soundName, this.curBgMusic);\r\n                        if (!this._musicOpen)\r\n                            return [2];\r\n                        if (!soundName && !this.curBgMusic)\r\n                            return [2];\r\n                        if (!soundName) return [3, 2];\r\n                        this.curBgMusic = soundName;\r\n                        _url = ResUtil.getIntance().defaultOriginUrl + \"resource/assets/sound/\" + this.curBgMusic + \".mp3\";\r\n                        _a = this;\r\n                        return [4, Laya.SoundManager.playMusic(_url, 0)];\r\n                    case 1:\r\n                        _a.soundChannel = _b.sent();\r\n                        return [3, 3];\r\n                    case 2:\r\n                        if (this.soundChannel)\r\n                            this.soundChannel.resume();\r\n                        _b.label = 3;\r\n                    case 3: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SoundManager.prototype.pauseBgMusic = function () {\r\n        if (this.soundChannel)\r\n            this.soundChannel.pause();\r\n    };\r\n    SoundManager.prototype.stopBgMusic = function () {\r\n        console.log(\"停止播放Bgm...\");\r\n        if (this.soundChannel)\r\n            this.soundChannel.stop();\r\n    };\r\n    SoundManager.prototype.playEffect = function (soundName) {\r\n        if (!this._soundOpen || !soundName)\r\n            return;\r\n        var _url;\r\n        if (DeviceUtil.isNative()) {\r\n            _url = \"resource/assets/sound/ogg/\" + soundName + \".ogg\";\r\n        }\r\n        else {\r\n            _url = \"resource/assets/sound/\" + soundName + \".mp3\";\r\n        }\r\n        Laya.SoundManager.playSound(_url, 1);\r\n    };\r\n    return SoundManager;\r\n}());\r\nexport default SoundManager;\r\nexport var SoundConst;\r\n(function (SoundConst) {\r\n    SoundConst[\"HomeBgm\"] = \"\";\r\n    SoundConst[\"BtnClick\"] = \"button\";\r\n    SoundConst[\"GameBgm2\"] = \"bg\";\r\n    SoundConst[\"Huaxian\"] = \"huaxian\";\r\n    SoundConst[\"Win2\"] = \"win\";\r\n})(SoundConst || (SoundConst = {}));\r\n",
  "references": []
}
