{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport SoundManager, { SoundConst } from \"../../../manager/SoundManager\";\r\nimport { GameData } from \"../../../common/GameData\";\r\nimport GameInfoManager from \"../../../manager/GameInfoManager\";\r\nimport GameConst from \"../../../common/GameConst\";\r\nimport GameEvent from \"../../../common/GameEvent\";\r\nimport { MiniManeger } from \"../../../minigame/MiniManeger\";\r\nimport { PopManager } from \"../../../manager/PopManager\";\r\nimport { AwardScene } from \"../pop/AwardScene\";\r\nimport { Prop } from \"../../../manager/GameMgr\";\r\nvar InviteItem = (function (_super) {\r\n    tslib_1.__extends(InviteItem, _super);\r\n    function InviteItem(_data) {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"InviteItem\";\r\n        _this.viewData_ = _data;\r\n        _this.skin = \"skins/uiView/invite/InviteItem.json\";\r\n        return _this;\r\n    }\r\n    InviteItem.prototype.childrenCreated = function () {\r\n        _super.prototype.childrenCreated.call(this);\r\n    };\r\n    InviteItem.prototype.adaptationStage = function () {\r\n    };\r\n    InviteItem.prototype.onAddStage = function () {\r\n        if (this.isCreate) {\r\n            this.initView();\r\n            this.addEvent();\r\n        }\r\n    };\r\n    InviteItem.prototype.setData = function (data) {\r\n        this.viewData_ = data;\r\n        if (this.isCreate) {\r\n            this.initView();\r\n        }\r\n    };\r\n    InviteItem.prototype.addEvent = function () {\r\n        this.btn_get.on(Laya.Event.CLICK, this, this.onGet);\r\n        this.img_null.on(Laya.Event.CLICK, this, this.onInvite);\r\n    };\r\n    InviteItem.prototype.initView = function () {\r\n        if (!this.viewData_)\r\n            return;\r\n        var data = this.viewData_;\r\n        this.btn_get.visible = this.lab_tip.visible = this.img_geted.visible = false;\r\n        this.img_headMask.visible = false;\r\n        this.lab_index.text = data.id + \"\";\r\n        var lab = this.box_award1.getChildAt(2);\r\n        lab.text = \"X\" + data.reward[0].num;\r\n        if (data.head && data.head != \"\") {\r\n            this.img_head.skin = data.head;\r\n            this.img_head.mask = this.img_headMask;\r\n        }\r\n        else {\r\n            this.img_head.skin = \"resource/assets/imgs/home/invite/invitation_headportrait.png\";\r\n        }\r\n        if (data.lingqued) {\r\n            this.img_geted.visible = true;\r\n            this.img_null.visible = false;\r\n            this.img_head.visible = true;\r\n        }\r\n        else {\r\n            if (data.canLingqu) {\r\n                this.btn_get.visible = true;\r\n                this.img_null.visible = false;\r\n                this.img_head.visible = true;\r\n            }\r\n            else {\r\n                this.lab_tip.visible = true;\r\n                this.img_null.visible = true;\r\n                this.img_head.visible = false;\r\n            }\r\n        }\r\n    };\r\n    InviteItem.prototype.onGet = function () {\r\n        var _this = this;\r\n        SoundManager.instance.playEffect(SoundConst.BtnClick);\r\n        PopManager.instance.showPopView({\r\n            className: AwardScene,\r\n            data: {\r\n                type: 1,\r\n                data: {\r\n                    id: Prop.Power,\r\n                    num: this.viewData_.reward[0].num,\r\n                    fun: function () {\r\n                        GameData.getInstance().invite.inviteId.push(_this.viewData_.id);\r\n                        GameInfoManager.getInstance().saveInfo(GameConst.INVITE_INFO);\r\n                        EventMgr.getInstance().sendEvent(GameEvent.REFRESH_INVITE);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n    InviteItem.prototype.onInvite = function () {\r\n        MiniManeger.instance.shareAppMessage();\r\n    };\r\n    InviteItem.prototype.removeEvent = function () {\r\n        this.btn_get.off(Laya.Event.CLICK, this, this.onGet);\r\n        this.img_null.off(Laya.Event.CLICK, this, this.onInvite);\r\n    };\r\n    InviteItem.prototype.onRemoved = function () {\r\n        _super.prototype.onRemoved.call(this);\r\n        this.viewData_ = null;\r\n        this.removeEvent();\r\n    };\r\n    return InviteItem;\r\n}(BaseSceneUISkin));\r\nexport { InviteItem };\r\n",
  "references": [
    "E:/laya/project/laya_firePeople2_git_ts/src/script/common/GameDataType.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/manager/SoundManager.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/common/GameData.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/manager/GameInfoManager.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/common/GameConst.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/common/GameEvent.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/minigame/MiniManeger.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/manager/PopManager.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/views/uiView/pop/AwardScene.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/manager/GameMgr.ts"
  ]
}
