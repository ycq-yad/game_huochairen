{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport DYChannelMgr from \"../../../manager/channel/DYChannelMgr\";\r\nimport GameEvent from \"../../../common/GameEvent\";\r\nvar DYMyGameListItem = (function (_super) {\r\n    tslib_1.__extends(DYMyGameListItem, _super);\r\n    function DYMyGameListItem(data_) {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"DYMyGameListItem\";\r\n        _this.index = 0;\r\n        _this.viewData_ = data_;\r\n        _this.skin = \"skins/channel/duyou/DYMyGameListItem.json\";\r\n        return _this;\r\n    }\r\n    DYMyGameListItem.prototype.childrenCreated = function () {\r\n        _super.prototype.childrenCreated.call(this);\r\n    };\r\n    DYMyGameListItem.prototype.adaptationStage = function () {\r\n    };\r\n    DYMyGameListItem.prototype.onAddStage = function () {\r\n        if (this.isCreate) {\r\n            this.initView();\r\n            this.addEvent();\r\n        }\r\n    };\r\n    DYMyGameListItem.prototype.setData = function (data) {\r\n        this.viewData_ = data;\r\n        if (this.isCreate) {\r\n            this.initView();\r\n        }\r\n    };\r\n    DYMyGameListItem.prototype.addEvent = function () {\r\n        this.btn_play.on(Laya.Event.CLICK, this, this.onPlay);\r\n    };\r\n    DYMyGameListItem.prototype.initView = function () {\r\n        if (!this.viewData_)\r\n            return;\r\n        var data = this.viewData_;\r\n        this.img_icon.skin = data.ad_img;\r\n        this.lab_title.text = data.name;\r\n        this.lab_desc.text = Math.ceil(Math.random() * 100000) + \"人正在玩\";\r\n        this.img_hot.visible = Math.random() > 0.5 ? true : false;\r\n    };\r\n    DYMyGameListItem.prototype.onPlay = function () {\r\n        if (!this.viewData_)\r\n            return;\r\n        var data = this.viewData_;\r\n        DYChannelMgr.instance.clickGame(data.ad_id);\r\n        var obj = {\r\n            appId: data.ad_appid,\r\n            path: data.url,\r\n            success: function () {\r\n                console.log(\"navigateToMiniProgram success!\");\r\n                DYChannelMgr.instance.toGame(data.ad_id);\r\n            },\r\n            fail: function (e) {\r\n                console.log(\"navigateToMiniProgram fail\", e);\r\n                EventMgr.getInstance().sendEvent(GameEvent.NAV_GAME_FAIL, false);\r\n            }\r\n        };\r\n        wx.navigateToMiniProgram(obj);\r\n    };\r\n    DYMyGameListItem.prototype.removeEvent = function () {\r\n        this.btn_play.off(Laya.Event.CLICK, this, this.onPlay);\r\n    };\r\n    DYMyGameListItem.prototype.onRemoved = function () {\r\n        _super.prototype.onRemoved.call(this);\r\n        this.viewData_ = null;\r\n        this.removeEvent();\r\n        Laya.Pool.recover(\"DYMyGameListItem\", this);\r\n    };\r\n    return DYMyGameListItem;\r\n}(BaseSceneUISkin));\r\nexport { DYMyGameListItem };\r\n",
  "references": [
    "E:/laya/project/laya_firePeople2_git_ts/src/script/manager/channel/DYChannelMgr.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/common/GameEvent.ts"
  ]
}
