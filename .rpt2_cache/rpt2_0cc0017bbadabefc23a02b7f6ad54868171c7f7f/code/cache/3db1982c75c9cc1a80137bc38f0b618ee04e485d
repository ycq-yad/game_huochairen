{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport DYChannelMgr from \"../../../manager/channel/DYChannelMgr\";\r\nvar DYMoreGameRandomItem = (function (_super) {\r\n    tslib_1.__extends(DYMoreGameRandomItem, _super);\r\n    function DYMoreGameRandomItem(data_) {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"DYMoreGameRandomItem\";\r\n        _this.data = data_;\r\n        _this.size(320, 390);\r\n        _this.createUI();\r\n        return _this;\r\n    }\r\n    DYMoreGameRandomItem.prototype.createUI = function () {\r\n        this.img_db = new Laya.Image();\r\n        this.img_db.sizeGrid = \"15,15,95,15\";\r\n        this.img_db.skin = \"resource/assets/channel/duyou/box_baseboard_1.png\";\r\n        this.img_db.size(320, 390);\r\n        this.addChild(this.img_db);\r\n        this.img_icon = new Laya.Image();\r\n        this.img_icon.centerX = 0;\r\n        this.img_icon.y = 9;\r\n        this.img_icon.size(300, 300);\r\n        this.addChild(this.img_icon);\r\n        this.lab_name = new Laya.Label();\r\n        this.lab_name.font = \"SimHei\";\r\n        this.lab_name.fontSize = 40;\r\n        this.lab_name.color = \"#ffffff\";\r\n        this.lab_name.centerX = 0;\r\n        this.lab_name.y = 325;\r\n        this.addChild(this.lab_name);\r\n    };\r\n    DYMoreGameRandomItem.prototype.setData = function (data_) {\r\n        this.data = data_;\r\n        this.addEvent();\r\n        this.initView();\r\n    };\r\n    DYMoreGameRandomItem.prototype.addEvent = function () {\r\n        this.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);\r\n        this.on(Laya.Event.REMOVED, this, this.onRemoved);\r\n    };\r\n    DYMoreGameRandomItem.prototype.initView = function () {\r\n        var data = this.data;\r\n        if (data < 0 || data >= DYChannelMgr.instance.moreGameList.length) {\r\n            data = DYChannelMgr.instance.moreGameList.length - 1;\r\n            if (data < 0)\r\n                return;\r\n        }\r\n        var gameInfo = DYChannelMgr.instance.moreGameList[data];\r\n        this.lab_name.text = gameInfo.name;\r\n        this.img_icon.skin = gameInfo.ad_img;\r\n        this.gameInfo = gameInfo;\r\n    };\r\n    DYMoreGameRandomItem.prototype.onMouseDown = function () {\r\n        var _this = this;\r\n        var startTime = (new Date()).getTime();\r\n        var mouseUp = function (evt) {\r\n            var endTime = (new Date()).getTime();\r\n            if (endTime - startTime <= 150) {\r\n                _this.onPlay();\r\n            }\r\n            _this.off(Laya.Event.MOUSE_UP, _this, mouseUp);\r\n            _this.off(Laya.Event.MOUSE_OUT, _this, mouseOut);\r\n        };\r\n        var mouseOut = function (evt) {\r\n        };\r\n        this.on(Laya.Event.MOUSE_UP, this, mouseUp);\r\n        this.on(Laya.Event.MOUSE_OUT, this, mouseOut);\r\n    };\r\n    DYMoreGameRandomItem.prototype.onPlay = function () {\r\n        if (!this.gameInfo)\r\n            return;\r\n        var data = this.gameInfo;\r\n        DYChannelMgr.instance.clickGame(data.ad_id);\r\n        var obj = {\r\n            appId: data.ad_appid,\r\n            path: data.url,\r\n            success: function () {\r\n                console.log(\"navigateToMiniProgram success!\");\r\n                DYChannelMgr.instance.toGame(data.ad_id);\r\n            },\r\n            fail: function (e) {\r\n                console.log(\"navigateToMiniProgram fail\", e);\r\n            }\r\n        };\r\n        wx.navigateToMiniProgram(obj);\r\n    };\r\n    DYMoreGameRandomItem.prototype.removeEvent = function () {\r\n        this.off(Laya.Event.REMOVED, this, this.onRemoved);\r\n        this.off(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);\r\n    };\r\n    DYMoreGameRandomItem.prototype.onRemoved = function () {\r\n        this.removeEvent();\r\n        this.data = null;\r\n        this.gameInfo = null;\r\n        Laya.Pool.recover(\"DYMoreGameRandomItem\", this);\r\n    };\r\n    return DYMoreGameRandomItem;\r\n}(Laya.Box));\r\nexport { DYMoreGameRandomItem };\r\n",
  "references": [
    "E:/laya/project/laya_firePeople2_git_ts/src/script/manager/channel/DYChannelMgr.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/common/GameEvent.ts"
  ]
}
