{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport GameEvent from \"../common/GameEvent\";\r\nvar GameLoadingView = (function (_super) {\r\n    tslib_1.__extends(GameLoadingView, _super);\r\n    function GameLoadingView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"GameLoadingView\";\r\n        _this.width = Laya.stage.width;\r\n        _this.height = Laya.stage.height;\r\n        _this.img_bg = new Laya.Image();\r\n        _this.img_bg.skin = \"resource/assets/loading/loading_background_1.png\";\r\n        _this.addChild(_this.img_bg);\r\n        DeviceUtil.adaptationBgImg(_this.img_bg);\r\n        _this.img_jdt_db = new Laya.Image();\r\n        _this.img_jdt_db.skin = \"resource/assets/loading/loading_baseboard_1.png\";\r\n        _this.img_jdt_db.sizeGrid = \"0,26,0,26\";\r\n        _this.img_jdt_db.width = 882;\r\n        _this.img_jdt_db.height = 54;\r\n        _this.img_jdt_db.centerX = 0;\r\n        _this.img_jdt_db.centerY = 0;\r\n        _this.addChild(_this.img_jdt_db);\r\n        _this.img_jdt = new Laya.Image();\r\n        _this.img_jdt.skin = \"resource/assets/loading/loading_baseboard_2.png\";\r\n        _this.img_jdt.sizeGrid = \"0,20,0,20\";\r\n        _this.img_jdt.width = 500;\r\n        _this.img_jdt.height = 40;\r\n        _this.img_jdt.x = 5;\r\n        _this.img_jdt.centerY = 0;\r\n        _this.img_jdt_db.addChild(_this.img_jdt);\r\n        var lab = new Laya.Label();\r\n        lab.fontSize = 50;\r\n        lab.font = \"SimHei\";\r\n        lab.bold = true;\r\n        lab.centerX = 0;\r\n        lab.bottom = -90;\r\n        lab.text = \"我来了，我来了……\";\r\n        _this.img_jdt_db.addChild(lab);\r\n        _this.box_loadAni = new Laya.Box();\r\n        _this.box_loadAni.width = 150;\r\n        _this.box_loadAni.height = 200;\r\n        _this.box_loadAni.pos(0, -200);\r\n        _this.img_jdt_db.addChild(_this.box_loadAni);\r\n        _this.loadAni = new Laya.Skeleton();\r\n        _this.loadAni.load(\"resource/assets/loading/loading.sk\", Laya.Handler.create(_this, function () {\r\n            _this.loadAni.pos(50, 80);\r\n            _this.box_loadAni.addChild(_this.loadAni);\r\n            _this.loadAni.play(0, true);\r\n        }));\r\n        _this.progress(1, 100);\r\n        return _this;\r\n    }\r\n    GameLoadingView.prototype.childrenCreated = function () {\r\n    };\r\n    GameLoadingView.prototype.showAnimation = function () {\r\n        var _this = this;\r\n        this.box_ani = new Laya.Box();\r\n        this.box_ani.width = Laya.stage.width;\r\n        this.box_ani.height = Laya.stage.height;\r\n        this.box_ani.bgColor = \"#000000\";\r\n        this.addChild(this.box_ani);\r\n        this.showAniUglify = new Laya.Skeleton();\r\n        this.showAniUglify.load(\"resource/assets/db/opening.sk\", Laya.Handler.create(this, function () {\r\n            _this.showAniUglify.x = Laya.stage.width / 2;\r\n            _this.showAniUglify.y = Laya.stage.height / 2;\r\n            _this.showAniUglify.player && _this.showAniUglify.player.once(Laya.Event.STOPPED, _this, function () {\r\n                console.log(\"loadAni stop\");\r\n                _this.box_ani.once(Laya.Event.CLICK, _this, function () {\r\n                    console.log(\"loadAni click\");\r\n                    EventMgr.getInstance().sendEvent(GameEvent.OPEN_SCENE, { name: \"HomeScene\" });\r\n                    _this.remove();\r\n                });\r\n            });\r\n            _this.showAniUglify.scale(2, 2);\r\n            _this.box_ani.addChild(_this.showAniUglify);\r\n            _this.showAniUglify.play(0, false);\r\n        }));\r\n    };\r\n    GameLoadingView.prototype.onAwake = function () {\r\n        _super.prototype.onAwake.call(this);\r\n    };\r\n    GameLoadingView.prototype.progress = function (index, len) {\r\n        if (this.img_jdt) {\r\n            this.img_jdt.width = 872 * (index / len);\r\n            this.box_loadAni.x = 810 * (index / len);\r\n        }\r\n    };\r\n    GameLoadingView.prototype.remove = function () {\r\n        if (this && this.parent)\r\n            this.parent.removeChild(this);\r\n        this.box_ani && this.box_ani.offAll();\r\n        this.loadAni && this.loadAni.destroy();\r\n        this.showAniUglify && this.showAniUglify.destroy();\r\n    };\r\n    return GameLoadingView;\r\n}(BaseSceneUISkin));\r\nexport default GameLoadingView;\r\n",
  "references": [
    "E:/laya/project/laya_firePeople2_git_ts/src/script/common/GameEvent.ts"
  ]
}
