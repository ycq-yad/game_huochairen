{
  "code": "import * as tslib_1 from \"tslib\";\r\nimport SoundManager, { SoundConst } from \"../../../../manager/SoundManager\";\r\nimport GameEvent from \"../../../../common/GameEvent\";\r\nimport GameInfoManager from \"../../../../manager/GameInfoManager\";\r\nvar ChooseItem2 = (function (_super) {\r\n    tslib_1.__extends(ChooseItem2, _super);\r\n    function ChooseItem2(_data) {\r\n        var _this = _super.call(this) || this;\r\n        _this.className_key = \"ChooseItem2\";\r\n        _this.viewData_ = _data;\r\n        _this.skin = \"skins/game/type2/choose/ChooseItem2.json\";\r\n        return _this;\r\n    }\r\n    ChooseItem2.prototype.onRemoved = function () {\r\n        _super.prototype.onRemoved.call(this);\r\n        this.off(Laya.Event.CLICK, this, this.onSelect);\r\n        this.viewData_ = null;\r\n    };\r\n    ChooseItem2.prototype.initView = function () {\r\n        if (!this.viewData_)\r\n            return;\r\n        var data = this.viewData_;\r\n        this.off(Laya.Event.CLICK, this, this.onSelect);\r\n        this.img_pass.visible = this.box_draw.visible = false;\r\n        this.lab_level.text = data.id + \"\";\r\n        this.img_bg.skin = data.unlock ? \"resource/assets/imgs/game/type2/chapter2/checkpoint_baseboard_3.png\" : \"resource/assets/imgs/game/type2/chapter2/checkpoint_baseboard_4.png\";\r\n        this.img_title.skin = data.unlock ? \"resource/assets/imgs/game/type2/chapter2/checkpoint_db2.png\" : \"resource/assets/imgs/game/type2/chapter2/checkpoint_db1.png\";\r\n        this.img_lock.visible = !data.unlock;\r\n        if (data.unlock) {\r\n            if (!data.isCur) {\r\n                this.img_pass.visible = this.box_draw.visible = true;\r\n                this.drawData = GameInfoManager.getInstance().selectLevelDataById(data.id);\r\n                this.onDraw();\r\n            }\r\n            this.on(Laya.Event.CLICK, this, this.onSelect);\r\n        }\r\n        else {\r\n        }\r\n    };\r\n    ChooseItem2.prototype.onDraw = function () {\r\n        var _this = this;\r\n        if (!this.drawData)\r\n            return;\r\n        if (!this.sp) {\r\n            this.sp = new Laya.Sprite();\r\n            this.box_draw.addChild(this.sp);\r\n        }\r\n        else {\r\n            this.sp.graphics.clear();\r\n        }\r\n        var arr = [];\r\n        this.drawData.forEach(function (item) {\r\n            var sx = _this.box_draw.width / 1036;\r\n            var sy = _this.box_draw.height / 1044;\r\n            var tempArr = [];\r\n            for (var i = 0; i < item.points.length; i += 2) {\r\n                tempArr.push(Math.round(item.points[i] * sx));\r\n                tempArr.push(Math.round(item.points[i + 1] * sy));\r\n            }\r\n            _this.sp.graphics.drawLines(0, 0, tempArr, \"#000000\", 4);\r\n        });\r\n    };\r\n    ChooseItem2.prototype.onSelect = function () {\r\n        SoundManager.instance.playEffect(SoundConst.BtnClick);\r\n        EventMgr.getInstance().sendEvent(GameEvent.Type2Select, this.viewData_.id);\r\n    };\r\n    ChooseItem2.prototype.childrenCreated = function () {\r\n        _super.prototype.childrenCreated.call(this);\r\n    };\r\n    ChooseItem2.prototype.adaptationStage = function () {\r\n    };\r\n    ChooseItem2.prototype.onAddStage = function () {\r\n        if (this.isCreate) {\r\n            this.initView();\r\n        }\r\n    };\r\n    ChooseItem2.prototype.setData = function (data) {\r\n        this.viewData_ = data;\r\n        if (this.isCreate) {\r\n            this.initView();\r\n        }\r\n    };\r\n    return ChooseItem2;\r\n}(BaseSceneUISkin));\r\nexport default ChooseItem2;\r\n",
  "references": [
    "E:/laya/project/laya_firePeople2_git_ts/src/script/common/GameDataType.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/manager/SoundManager.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/common/GameEvent.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/views/Type2GameLineToolMgr.ts",
    "E:/laya/project/laya_firePeople2_git_ts/src/script/manager/GameInfoManager.ts"
  ]
}
